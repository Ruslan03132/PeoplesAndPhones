# PeoplesAndPhones
 A full stack application that maps a pair of related 1-to-many tables. Technologies: Client(React,Js,HTML, CSS, AG Grid) Server(Node js, express, postgreSQL, sequelize, CORS)

Рекомендуемая версия ПО для развёртывания приложения:
Winows 10;
node v18.14.2;
npm 9.5.0;
PostgreSQL 14/15;

Для развертывания, на локальной машине необходимо иметь: VS code(или другую аналогичную IDE), Node/npm, PostgreSQL, GIT.

Данные для сервера и бд находятся в PeoplesAndPhones/server/.env Выбраны самые стандартные настройки. Порт сервера находится в переменной PORT = 4444. Если у вас занят данный порт, назначьте любой свободный. Пароль для postgreSQL указан в переменной DB_PASSWORD = admin , назначенный при установке PostgreSQL.


Данная инструкция ореинтирована на ос Windows.
Этапы развертывания:
1) Откройте IDE и зайдите в терминал.
2) Выберите подходящую директорию в которую захотите склонировать проект.
3) Введите команду "git clone https://github.com/Ruslan03132/PeoplesAndPhones.git" чтобы склонировать проект.
4) Откройте SQL Shell (psql). Авторизуйтесь. Как правило, нажимайте enter до запроса пароля. Пароль указывайте, заданный при регистрации. Он же должен быть указан в "DB_PASSWORD".
5) Для windows командой "psql \! chcp 1251" смените кодировку.
6) Введите команду создания базы данных - "CREATE DATABASE peoplesphones"
7) Командой "\l" откройте список баз данных, убедитесь в созданной бд.
8) Перейдите в бд командой "\c peoplesphones" Появится уведомление о переходе.
9)  Командой "\d" можно посмотреть список таблиц базы данных. Отношения не найдены - говорит об их отсутствии.
10)  Командой "\i {dir}\PeoplesAndPhoneNumbers\server\init-db.sql" , где {dir} ваша директория проекта, подключите скрипт файл инициализации таблиц и данных в бд. (ВАЖНО!!! Для Windows необходимо использовать прямые слеши в пути, во избежании ошибки "Permission denied". Также обязательно должна быть указана кодировка (см пункт 5)
11)  Введите команду "\d" чтобы удостовериться в корректной отработки скрипта и создании таблиц.  Командами "SELECT * FROM peoples" и "SELECT * FROM phones" можно отобразить соответственно таблицы Людей и Номеров. Связи между таблицами 1 to many обеспечивает внешний ключ people_id в таблице phones.
12)  Перейдите в терминал IDE. Из корня репозитория командой "cd server" перейдите в подкаталог сервера. Запустите команду "npm i" для инициализации package.json.
13)  Запустите сервер командой "npm run dev".
14)  Аналогично, из корня репозитория командой "cd client" перейдите в подкаталог клиента. Запустите команду "npm i" для инициализации package.json.
15)  Запустите клиент командой "npm start"
16)  Клиент запустится стандартно на порту 3000.

Проблемы которые могут возникнуть:
1) Ошибки при запуске клиента или сервера. Проверьте корректность версии node и npm согласно рекомендуемым параметрам. Может помочь https://stackoverflow.com/questions/42308879/how-to-solve-npm-error-npm-err-code-elifecycle
2) "npm audit fix --force" Также может помочь при ошибках  
